<!DOCTYPE html>
<html lang="en">
<head>
    <title>Hangman!</title>

    <style>
    #progress {
        padding-bottom: 20px;
        color: #c91111;
    }

    #infoText {
        padding-bottom: 10px;
    }

    #submit {
        cursor:pointer;
    }

    #newGame {
        color: aliceblue;
        background-color: rgb(36, 122, 93);
        border-radius: 6px;
        border: none;
        padding: 2px 10px;
        cursor: pointer;
    }

    #newGame:hover {
        color: aliceblue;
        background-color: rgb(5, 75, 52);
    }

    #newGameGroup{
        display: flex;
        gap: 10px;
        margin-bottom: 20px;
    }
    </style>
</head>

<body>
    <h1>Hangman Game!</h1>

    <div id="newGameGroup">
        <div id="progress"></div>
        <input id="newGame" type="button" value="New game" onclick="newGameHandler()"/> 
    </div>
    
    <div id="infoText">Please enter a single letter as your guess</div>
    <input id="userInput" type="text"/> 
    <input id="submit" type="button" value="Submit" onclick="submitHandler()"/> 
    <canvas id="canvas" height="600" width="1920"></canvas>
    <script src="../July 2025/31July25.js"></script>

    <script>
        // clear the text input
        document.getElementById("userInput").value = ""; 

        var words = [
            // "burger", // r => indecies = [2,5]
            "fig",
            // "fries",
            // "mango",
            // "grapes",
            "cake",
            // "bread",
            // "corn",
            // "soup",
            // "stew"
        ];
        
        // pick a random word
        var word = words[Math.floor(Math.random() * words.length)];
        console.log(word);
       
        var remainingLetters = word.length;
        // console.log(remainingLetters);
        
        var answers = [];
        for (var i = 0; i < word.length; i++) {
            answers[i] = "_";
        }

        document.getElementById("progress").innerHTML = answers.join(" ");
        
        function submitHandler () {
            var mistakes = 0;
            // read user input text
            var guessedLetter = document.getElementById("userInput").value;
            console.log(guessedLetter);
            
            // check correct or not
            var alertText = "Please type a single letter at a time!";
            if (guessedLetter === null || guessedLetter === undefined) {
                alert (alertText);
            } else if (guessedLetter.length===0 || guessedLetter.length > 1) {
                alert (alertText);
            } else { // single letter
                // checking if the guess is in the word
                if (word.includes(guessedLetter)) {
                    // finding the index of the guessed letter
                    var index = word.indexOf(guessedLetter);

                    // update the answers array with the guessed letter
                    // ["f", "i", "g", ....]
                    answers[index] = guessedLetter; // _ will be replaced by the guessed letter
                    document.getElementById("progress").innerHTML = answers.join(" ");
                    
                    remainingLetters--;
                    if (remainingLetters === 0) {
                        setTimeout(()=>{
                            alert ("Wow, you guessed it! The word is " + word.toUpperCase());
                        }, 500);
                    }
                } else {
                    ++mistakes;
                    hangmanDrawer(mistakes);

                    if (mistakes == 6) {
                        setTimeout(()=>{
                            alert("Max attempts reached!! You lost!");
                        }, 700);
                    }
                }
            }  

            // clear the text input
            document.getElementById("userInput").value = "";
        }

        function newGameHandler () {

        };
    </script>

</body>